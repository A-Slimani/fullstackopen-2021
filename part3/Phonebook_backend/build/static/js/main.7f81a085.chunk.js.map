{"version":3,"sources":["PersonForm.js","Persons.js","Filter.js","components/Notification.js","services/Person.js","App.js","index.js"],"names":["PersonForm","addName","newName","handleNameChange","newNum","handleNumChange","onSubmit","value","onChange","type","Persons","persons","deletePerson","map","p","i","name","number","id","onClick","Filter","setFilter","target","console","log","Notification","message","error","className","axios","get","then","response","data","newObj","post","put","delete","App","useState","setPersons","filter","setNewName","setNewNum","refresh","setRefresh","setMessage","isError","setError","useEffect","personService","namesToShow","toLowerCase","match","e","preventDefault","newPerson","find","window","alert","confirm","catch","concat","setTimeout","currentTarget","promise","notes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7f81a085.chunk.js","sourcesContent":["import React from \"react\";\n\nconst PersonForm = ({\n  addName,\n  newName,\n  handleNameChange,\n  newNum,\n  handleNumChange,\n}) => {\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNum} onChange={handleNumChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ persons, deletePerson }) => {\n  return (\n    <ul>\n      {persons.map((p, i) => (\n        <li>\n          {p.name} {p.number}\n          <button id={i} onClick={deletePerson}>\n            delete\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Filter = ({setFilter}) => {\n  return (\n    <form>\n      <div>\n        filter shown with\n        <input onChange={({target}) => {\n          setFilter(target.value)\n          console.log(target.value)\n        }}></input>\n      </div>\n    </form>\n  );\n};\n\nexport default Filter;\n","import React, { useState } from \"react\";\n\nconst Notification = ({ message, error }) => {\n  if (message === null) return null;\n  if (error) return <div className=\"error\">{message}</div>;\n  return <div className=\"added\">{message}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst baseUrl = \"\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst create = newObj => {\n  return axios.post(baseUrl, newObj);\n};\n\nconst update = (id, newObj) => {\n  return axios.put(`${baseUrl}/${id}`, newObj);\n};\n\nconst remove = id => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nexport default { getAll, create, update, remove };\n","import React, { useState, useEffect } from \"react\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport Filter from \"./Filter\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/Person\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n  const [refresh, setRefresh] = useState(false);\n  const [message, setMessage] = useState(null);\n  const [isError, setError] = useState(false);\n\n  useEffect(() => {\n    personService.getAll().then(response => {\n      setPersons(response.data);\n      setRefresh(false);\n    });\n  }, [refresh]);\n\n  const addName = e => {\n    e.preventDefault();\n    const newPerson = { name: newName, number: newNum };\n\n    if (!persons.find(p => p.name === newPerson.name)) {\n      personService.create(newPerson).then(() => {\n        setPersons(persons.concat(newPerson));\n        setRefresh(true);\n        setMessage(`Added ${newPerson.name}`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      });\n    } else {\n      for (const p of persons) {\n        if (newName === \"\" || newNum === \"\") {\n          window.alert(\"missing name and or number\");\n        } else if (p.name === newPerson.name) {\n          if (p.number === newPerson.number) {\n            window.alert(\n              `${newPerson.name} and ${newPerson.number} is already added to the phonebook`\n            );\n          } else {\n            if (\n              window.confirm(\n                `${newPerson.name} is already added to the phonebook, replace the old number with a new one?`\n              )\n            ) {\n              personService.update(p.id, newPerson).catch(() => {\n                setMessage(\n                  `Information of '${newPerson.name}' had already been removed from the server`\n                );\n                setError(true);\n              });\n              setRefresh(true);\n            }\n          }\n        }\n      }\n    }\n    setNewName(\"\");\n    setNewNum(\"\");\n  };\n\n  const deletePerson = e => {\n    if (window.confirm(`Delete ${persons[e.currentTarget.id].name}`)) {\n      personService.remove(persons[e.currentTarget.id].id);\n      setRefresh(true);\n    }\n  };\n\n  const namesToShow =\n    filter === \"\"\n      ? persons\n      : persons.filter(p => p.name.toLowerCase().match(filter.toLowerCase()));\n\n  const handleNameChange = e => {\n    e.preventDefault();\n    setNewName(e.target.value);\n  };\n\n  const handleNumChange = e => {\n    e.preventDefault();\n    setNewNum(e.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} error={isError} />\n      <br />\n      <Filter setFilter={setFilter} />\n      <h2>Add a new</h2>\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNum={newNum}\n        handleNumChange={handleNumChange}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={namesToShow} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App.js\";\nimport axios from \"axios\";\nimport './index.css'\n\nconst promise = axios.get(\"http://localhost:3001/persons\").then((response) => {\n  const notes = response.data;\n  console.log(notes);\n});\nconsole.log(promise);\n\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}